{% extends "index.twig" %}

{% block contents %}
    {% set numEntries = photos|length %}
    {% if numEntries == 0 %}
        <div class="alert alert-info">Dit album is leeg.</div>
    {% else %}
        {{ model.notes|raw }}

        {% if numEntries == 1 %}
            <p>Dit album bevat 1 foto. Klik op de verkleinde foto om een vergroting te zien.</p>
        {% else %}
            <p>Dit album bevat {{ numEntries }} foto's. Klik op de verkleinde foto's om een vergroting te zien.</p>
        {% endif %}

        <div class="fotoalbum">
            {% for photo in photos %}
            <figure class="fotobadge">

                <a href="/{{ photo.getFullPath() }}" data-lightbox="{{ model.name }}" data-hash="{{ photo.hash }}"
                    {% if photo.caption %} data-title="{{ photo.caption.caption }}" {% endif %}>
                    {% if file_exists(photo.getThumbnailPath()) %}
                        <img class="thumb" alt="{{ photo.filename }}" src="/fotoalbums/{{ model.id }}thumbnails/{{ photo.filename }}"/>
                    {% else %}
                        <img class="thumb" alt="{{ photo.filename }}" src="/fotoalbums/{{ model.id }}/{{ photo.filename }}" style="width:270px; height:200px"/>
                    {% endif %}
                </a>

                {% if isAdmin %}
                    <br/>
                    {% set captionId = photo.caption.id ?? 0 %}
                    {{ button('edit', "/editor/photo/#{captionId}/#{photo.hash}", 'Bijschrift bewerken', 'Bijschrift bewerken', 16)|raw }}
                {% endif %}
            </figure>
            {% endfor %}
        </div>

    {% endif %}
{% endblock %}